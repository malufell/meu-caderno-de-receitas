<!doctype html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Receita</title>
    <link rel='stylesheet' href='/styles/main.css' />
    <link rel='stylesheet' href='/styles/receita.css' />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
</head>

<body>
    <%- include('../views/partials/nav-user.ejs') %>
    <main>

        <div class="container">

            <div class="container-fluid">
                <div class="row-1">

                    <div class=" p-2">
                        <h4 class="mb-0 text-center">Cadastrar Receita</h4>
                    </div>

                    <form action='/cadastro-receita' method='post' encType="multipart/form-data">

                        <div class="form-group mt-4">
                            <label>Nome da receita</label>
                            <input type="text" class="form-control" maxlength="55" required>
                        </div>

                        <div class="form-group mt-4">
                            <label>Selecionar Categorias</label>

                            <div class="categorias mt-2 mb-2">
                                <div class="form-check-inline">
                                    <label class="form-check-label categoria">
                                    <input type="checkbox" class="form-check-input" value="">Lowcarb
                                    </label>
                                </div>
                                <div class="form-check-inline">
                                    <label class="form-check-label categoria">
                                    <input type="checkbox" class="form-check-input" value="">FIT
                                    </label>
                                </div>
                                <div class="form-check-inline">
                                    <label class="form-check-label categoria">
                                    <input type="checkbox" class="form-check-input" value="">Vegana
                                    </label>
                                </div>
                                <div class="form-check-inline">
                                    <label class="form-check-label categoria">
                                    <input type="checkbox" class="form-check-input" value="">Vegetariana
                                    </label>
                                </div>
                                <div class="form-check-inline">
                                    <label class="form-check-label categoria">
                                    <input type="checkbox" class="form-check-input" value="">Doces
                                    </label>
                                </div>
                                <div class="form-check-inline">
                                    <label class="form-check-label categoria">
                                    <input type="checkbox" class="form-check-input" value="">Salgados
                                    </label>
                                </div>
                                <div class="form-check-inline">
                                    <label class="form-check-label categoria">
                                    <input type="checkbox" class="form-check-input" value="">Bebidas
                                    </label>
                                </div>
                            </div>
                            <div class="categorias mt-2">

                            </div>
                        </div>

                        <div class="form-group mt-4">
                            <label>O pulo do gato ;)</label>
                            <textarea class="form-control" rows="2"
                                placeholder="Inclua observações ou dicas."></textarea>
                        </div>

                        
                        <div class="form-group mt-4">
                            <label>Incluir foto da receita</label>
                            <div>
                                <div>
                                    <img class="preview-img w-100 mb-1">
                                </div>
                                <input class="file-chooser" type="file" name="file" accept="image/*" capture/>
                            </div>
                        </div>


                        <div class="form-group col p-0 m-0 mt-4">
                            <button type="submit" class="btn btn-dark btn-block">Cadastrar receita</button>
                        </div>
                    </form>

                </div>

            </div>

        </div>
    </main>
    <%- include('../views/partials/footer.ejs') %>

    <script>
        //imagem da receita
        const $ = document.querySelector.bind(document);
        const previewImg = $('.preview-img');
        const fileChooser = $('.file-chooser');

        fileChooser.onchange = e => {
            const fileToUpload = e.target.files.item(0);
            const reader = new FileReader();

            reader.onload = e => previewImg.src = e.target.result;
            reader.readAsDataURL(fileToUpload);
        };

        
    </script>
    
</body>

</html>